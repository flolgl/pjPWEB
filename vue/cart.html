<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ILoueUnaWagen</title>


</head>
<body>
<?php require("./vue/navbar.html"); ?>

    <div class="mt-5">
        <div class="row mx-2">
            <div class="col-lg-8">
                <div class="card wish-list mb-4">
                    <div class="card-body">
                        <h5 class="mb-4">
                            Panier :
                            <?php
                            echo count($articles);
                            if (count($articles) == 0)
                                echo " article";
                            else
                                echo " articles";
                            ?>
                        </h5>
                        <?php
                        $i = 0;
                        foreach($articles as $a){
                            require("./vue/components/cartProduct.html");
                            $i++;
                            if ($i !== count($articles))
                                echo '<hr class="mb-4">';
                        }
                        ?>
                    </div>
                </div>
            </div>


            <div class="col-lg-4">


                <!-- Card -->
                <div class="card mb-4 checkOutCart">
                    <div class="card-body">

                        <form method="POST" class="formulaire" action="./index.php?controle=Cart&action=louerVoitures">


                            <div class="form-outline mb-4">
                                <input type="text" id="dateDebutInput" name="dateDebut" class="form-control form-control-lg" value="<?php echo date('d/m/Y'); ?>"/>
                                <label class="form-label" for="dateDebutInput">Debut de la location</label>
                            </div>

                            <div class="form-outline mb-4">
                                <input type="date" id="dateFinInput" name="dateFin" class="form-control form-control-lg"/>
                                <label class="form-label" for="dateFinInput">Fin de la location</label>
                            </div>


                            <h5 class="mb-3">Montant total :</h5>

                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                    Montant des articles
                                    <span><?php echo $prixTotal;?>€</span>
                                </li>
                                <hr class="mb-4">
                                <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                                    <div>
                                        <strong>Montant total</strong>
                                        <strong>
                                            <p class="mb-0">(TTC)</p>
                                        </strong>
                                    </div>
                                    <span><strong><?php echo $prixTotal;?>€</strong></span>
                                </li>
                            </ul>
                            <input type="submit" name="submitButton" value="Louer les véhicules" class="btn btn-primary btn-block waves-effect waves-light">

                        </form>


                    </div>
                </div>
                <!-- Card -->


            </div>
        </div>
    </div>

    <?php require("./vue/footer.html");?>

</body>
<style>
    .checkOutCart{
        position: sticky;
        top: 20px;
    }
</style>

<script>
    document.querySelectorAll('.form-outline').forEach(formOutline => {
        new mdb.Input(formOutline).init();
    });
</script>
</html>